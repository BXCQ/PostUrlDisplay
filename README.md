# Typecho 文章URL显示插件

## 功能介绍

本插件可以在Typecho后台的文章管理页面中显示每篇文章的完整URL地址，方便管理员快速查看和复制文章链接。插件会自动调整表格列宽，确保所有列都能正常显示而不会重合。

## 主要特性

1. **URL列显示**: 在文章管理表格中新增URL地址列
2. **智能布局调整**: 自动重新分配列宽，防止列重合问题
3. **灵活位置配置**: 可选择URL列在表格中的显示位置（标题后、日期前、日期后）
4. **一键复制**: 点击URL链接即可复制到剪贴板，同时在新窗口打开
5. **智能识别**: 自动识别草稿文章并显示相应提示
6. **响应式设计**: 在移动设备上自动隐藏URL列以保持界面简洁
7. **悬停预览**: 鼠标悬停时显示完整URL，避免长链接显示问题

## 布局优化
![image](https://github.com/user-attachments/assets/f1b841cd-4fc1-4686-ba42-639d0614dc96)

![image](https://github.com/user-attachments/assets/48264d7e-0d63-458b-98f7-e17be84410bd)


插件会智能调整表格布局，设置合适的容器宽度，并修复原有的显示问题：

### 容器宽度设置：
- **1200px以上屏幕**: 容器最大宽度设为1560px，充分利用屏幕空间
- **表格最小宽度**: 1400px起，大屏幕可达1600px

### 列宽分配优化 (v1.0.7)：
- **复选框列**: 20px
- **评论数列**: 4%
- **作者列**: 9%
- **标题列**: 32-35%（获得更多空间）
- **URL列**: 26-32%（适当缩短，空间给予其他列）
- **分类列**: 13-14%
- **日期列**: 9-12%

### URL字体大小 (v1.0.7)：
- **默认**: 13px (原12px)
- **1200px以下屏幕**: 12px (响应式调整)

### 不同位置的优化策略 (v1.0.7)：

- **标题后**: URL(26%), 标题(35%), 作者(9%), 分类(14%), 日期(12%)
- **日期前**: URL(30%), 标题(33%), 作者(9%), 分类(13%), 日期(11%)
- **日期后**: URL(32%), 标题(32%), 作者(9%), 分类(14%), 日期(9%)
  *(注: 复选框20px, 评论4% 固定)*

### 问题修复与优化：
- ✅ **适当缩短URL列宽度**: 普遍减少2-4个百分点。
- ✅ **适当增大URL字体**: 默认从12px增至13px，提升可读性。
- ✅ 进一步缩短固定宽度列: 复选框、评论数、作者栏宽度均减小。
- ✅ 空间重分配: 释放的空间主要赋予标题列和URL列，提升核心信息可见度。
- ✅ 修复复选框显示不全问题 (通过调整至20px确保基础显示)。
- ✅ 优化日期后URL框长度 (URL列现在可以达到36%的宽度)。
- ✅ 保持系统默认背景颜色。
- ✅ 优化列间距和对齐。
- ✅ 确保在大屏幕上充分利用空间。

## 安装方法

1. 将 `PostUrlDisplay` 文件夹上传到 `usr/plugins/` 目录下
2. 在Typecho后台的"控制台" -> "插件管理"中找到"文章URL显示插件"
3. 点击"启用"按钮激活插件

## 使用说明

1. 插件启用后，访问"管理" -> "文章"页面
2. 在文章列表表格中会看到新增的"URL地址"列
3. URL显示特性：
   - 默认显示为截断的链接（防止过长）
   - 鼠标悬停显示完整URL
   - 点击可复制URL到剪贴板并在新窗口打开
   - 草稿文章显示"草稿无URL"

## 配置选项

在插件设置中可以配置：

- **URL列显示位置**: 
  - 在标题列后面
  - 在日期列前面（默认）
  - 在日期列后面

## 技术特点

- **智能布局**: 使用JavaScript动态调整表格列宽，防止列重合
- **固定表格布局**: 使用CSS `table-layout: fixed` 确保列宽设置生效
- **无侵入性**: 不修改Typecho核心文件，通过hook机制实现
- **兼容性强**: 兼容多种浏览器的剪贴板API
- **响应式设计**: 适配移动设备，小屏幕自动隐藏URL列
- **优雅体验**: 包含操作反馈、悬停效果等用户体验优化

## 兼容性

- **Typecho版本**: 1.2.0+
- **浏览器支持**: Chrome、Firefox、Safari、Edge等现代浏览器
- **屏幕适配**: 支持桌面端和移动端
- **推荐屏幕宽度**: 
  - 最佳体验：1400px以上
  - 良好体验：1200px以上
  - 基本体验：1024px以上
  - 移动端：自动隐藏URL列

## 版本历史

### v1.0.7
- **URL列宽度调整**：适当缩短URL列宽度（调整为26-32%），将部分空间重新分配给标题、分类和日期列，以获得更平衡的整体布局。
- **URL字体增大**：URL链接的默认字体大小从 `12px` 增加到 `13px`，提升可读性（中等屏幕及以下仍为12px）。
- 微调各列宽度以适应上述变化。

### v1.0.6
- **全面缩短固定功能列宽度**：
  - 复选框列: `25px` → `20px`
  - 评论数列: `6%` → `4%`
  - 作者列: `12%` → `9%`
- **空间重分配给核心内容列**：
  - 标题列增至 `30-33%`
  - URL列大幅增至 `30-36%`
- 微调分类列和日期列以适应整体布局。

### v1.0.5
- **修复复选框显示不全问题**：将复选框列宽从10px增加到25px。
- **优化日期后URL框长度**：重新平衡各列宽度，确保URL列在日期之后时有足够的显示空间（28%）。
- 进一步微调各列宽度分配以适应新的复选框宽度。
  - 复选框列: 25px
  - 评论数列: 6%
  - 标题列: 28-31%
  - 作者列: 12%
  - URL列: 22-28%
  - 分类列: 12-13%
  - 日期列: 10-11%

### v1.0.4
- 根据用户反馈进一步优化各列尺寸：
  - 复选框列: 10px
  - 评论数列: 6%
  - 标题列: 30-32%
  - 作者列: 12%
  - URL列: 24-28%
  - 分类列: 13-14%
  - 日期列: 10-12%
- 更新插件元数据（名称、作者链接）

### v1.0.3
- 设置容器最大宽度为1560px，充分利用大屏幕空间
- 修复复选框列和序号重叠问题（增加到30px宽度）
- 移除自定义背景颜色，保持系统默认样式
- 重新优化各列宽度分配（URL列24-26%）
- 改进表格最小宽度设置（基础1400px → 最大1600px）

### v1.0.2
- 大幅增加表格整体宽度（基础1200px → 超大屏1400px）
- 优化"日期后"显示位置的特殊样式和交互效果
- 重新调整各列宽度分配，URL列获得更大显示空间（22-28%）
- 改进响应式设计，支持更多屏幕尺寸
- 增强视觉效果和用户体验

### v1.0.1
- 增加智能列宽调整功能
- 优化URL显示样式和悬停效果
- 改进响应式设计
- 增强表格布局稳定性

### v1.0.0
- 初始版本
- 基础URL显示功能
- 可配置显示位置
- 一键复制功能

## 常见问题

**Q: 启用插件后表格列显示异常怎么办？**
A: 插件会自动调整列宽，如果仍有问题，可以尝试刷新页面或清除浏览器缓存。

**Q: 在小屏幕上看不到URL列？**
A: 这是正常的，插件在768px以下的屏幕会自动隐藏URL列以保持界面简洁。

**Q: URL过长显示不完整？**
A: 默认会截断显示，鼠标悬停在URL上可以看到完整链接。

## 作者

璇

## 许可证

本插件遵循 GPL 2.0 许可证 
